{% for plug in plugins %}
<div
  {%
  if
  loop.last
  %}
  hx-get="/list"
  hx-swap="afterend"
  hx-trigger="revealed"
  hx-vals="js:{page: incrementPage(), sorting: document.getElementById('sorting_selector').value.split(',')[0], desc: document.getElementById('sorting_selector').value.split(',')[1], search: document.getElementById('search_input').value}"
  hx-indicator="#list_loading_indictator"
  {%
  endif
  %}
  class='p-4 w-full min-w-max h-32 min-h-full {{ "border-b-0" if loop.last else "" }}'
>
  <div
    class="w-full min-w-max h-full flex items-center justify-between space-x-4"
  >
    <div class="flex">
      <div
        class="flex items-center justify-center w-16 h-16 text-[3em] rounded-full {{plug.bg_color}} text-text-100"
      >
        <p>{{plug.name[0].upper()}}</p>
      </div>
    </div>
    <!-- middle part-->
    <div class="flex flex-col px-5 h-full w-full">
      <!-- Plugin name  and Link-->
      <div class="flex flex-col min-w-0">
        <p class="text-lg font-semibold text-gray-900 truncate">
          {{plug.name}}
        </p>
        <a
          class="text-sm font-light text-primary-500 truncate"
          href="https://github.com/{{plug.author}}/{{plug.name}}"
        >
          github.com/{{plug.author}}/{{plug.name}}
        </a>
      </div>

      <!-- Description -->
      <div class="min-w-full mt-2 w-96 text-text-900 truncate">
        {{ plug.description|emojify }}
        <!-- TODO: Render markdown notation emojis (so :heart: etc)-->
      </div>
    </div>
    <!-- Stars etc -->
    <div
      class="text-base font-semibold text-text-900 flex max-w-full w-40 h-full flex-col justify-between"
    >
      <!-- Star -->
      <div class="flex flex-row justify-between w-full">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-6 h-6 flex"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"
          />
        </svg>
        <div class="flex font-normal">{{plug.stars}}</div>
      </div>
      <!-- Last updated -->
      <div class="flex flex-row justify-between w-full">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-6 h-6 flex"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"
          />
        </svg>
        <div class="flex font-normal">{{plug.last_updated}}</div>
      </div>
      <!-- Language -->
      <div class="flex flex-row justify-between w-full">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-6 h-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"
          />
        </svg>

        <div class="flex font-normal">{{plug.language}}</div>
      </div>
    </div>
  </div>
</div>
{% endfor %}
